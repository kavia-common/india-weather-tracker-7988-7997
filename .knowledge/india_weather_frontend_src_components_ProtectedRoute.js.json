{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This source file defines a React component called ProtectedRoute that protects certain routes by ensuring user authentication via Supabase. It manages session fetching, auth state change subscription, and redirects unauthenticated users to the login page.", "external_files": ["../supabaseClient", "react", "react-router-dom"], "external_methods": ["React.useEffect", "React.useState", "react-router-dom.useLocation", "react-router-dom.Navigate", "supabaseClient.getSupabaseClient"], "published": ["default", "ProtectedRoute"], "classes": [], "methods": [{"name": "ProtectedRoute({ children })", "description": "React component that wraps route elements to enforce authentication, redirecting unauthenticated users to login.", "scope": "", "scopeKind": ""}, {"name": "fetchSession()", "scope": "ProtectedRoute", "scopeKind": "function", "description": "unavailable"}], "calls": ["React.useEffect", "React.useState", "supabaseClient.getSupabaseClient", "supabase.auth.getSession", "supabase.auth.onAuthStateChange", "window.setTimeout", "window.clearTimeout", "encodeURIComponent"], "search-terms": ["ProtectedRoute", "Supabase auth session", "React authentication wrapper", "react-router-dom redirect", "auth state monitoring"], "state": 2, "file_id": 19, "knowledge_revision": 67, "git_revision": "9cddb2d433637c8d3d0bdfb60875571fdf4aa5dd", "revision_history": [{"46": ""}, {"62": "d783d4065ffc517495cb4a12daf6055e631a8689"}, {"66": "bf8f7296ddc798750738cb4f473f80d26d4950c9"}, {"67": "9cddb2d433637c8d3d0bdfb60875571fdf4aa5dd"}], "ctags": [{"_type": "tag", "name": "/login?redirect=${redirectTo}", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class"}, {"_type": "tag", "name": "ProtectedRoute", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^export default function ProtectedRoute({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "fetchSession", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    async function fetchSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ProtectedRoute", "scopeKind": "function"}, {"_type": "tag", "name": "redirectTo", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    const redirectTo = encodeURIComponent(location.pathname + location.search);$/", "language": "JavaScript", "kind": "constant"}], "hash": "57d3a6ae025880efd1fff61de01f5900", "format-version": 4, "code-base-name": "india_weather_frontend", "filename": "india_weather_frontend/src/components/ProtectedRoute.js", "fields": [{"name": "return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class", "description": "unavailable"}]}