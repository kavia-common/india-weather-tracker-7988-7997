{"is_source_file": true, "format": "JavaScript (React component)", "description": "This file defines a React component called ProtectedRoute that wraps around route elements to enforce user authentication. It utilizes the Supabase client for session management, checks authentication status on mount and onAuthStateChange events, and redirects unauthenticated users to the login page with redirection parameters.", "external_files": ["../supabaseClient"], "external_methods": ["getSupabaseClient", "supabase.auth.getSession", "supabase.auth.onAuthStateChange"], "published": [], "classes": [], "methods": [{"name": "ProtectedRoute({ children })", "description": "React functional component that handles authentication-based route protection.", "scope": "", "scopeKind": ""}, {"name": "fetchSession()", "scope": "ProtectedRoute", "scopeKind": "function", "description": "unavailable"}], "calls": ["getSupabaseClient", "supabase.auth.getSession", "supabase.auth.onAuthStateChange", "setSessionUser", "setLoading", "useLocation", "useEffect"], "search-terms": ["ProtectedRoute", "auth session", "React router redirect", "supabase auth", "authentication guard"], "state": 2, "file_id": 19, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "/login?redirect=${redirectTo}", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class"}, {"_type": "tag", "name": "ProtectedRoute", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^export default function ProtectedRoute({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "fetchSession", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    async function fetchSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ProtectedRoute", "scopeKind": "function"}, {"_type": "tag", "name": "redirectTo", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    const redirectTo = encodeURIComponent(location.pathname + location.search);$/", "language": "JavaScript", "kind": "constant"}], "hash": "2dfb688ae39ec21dffa380ef698fecd8", "format-version": 4, "code-base-name": "india_weather_frontend", "filename": "india_weather_frontend/src/components/ProtectedRoute.js", "fields": [{"name": "return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}