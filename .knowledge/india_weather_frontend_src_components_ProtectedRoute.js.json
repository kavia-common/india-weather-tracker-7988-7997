{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component named ProtectedRoute that wraps around route elements to enforce user authentication. It manages authentication state, handles login status updates via Supabase, and redirects unauthenticated users to the login page.", "external_files": ["../supabaseClient", "react", "react-router-dom"], "external_methods": ["getSupabaseClient", "useLocation", "Navigate", "useState", "useEffect"], "published": ["default", "ProtectedRoute"], "classes": [], "methods": [{"name": "ProtectedRoute({ children })", "description": "React functional component that enforces route protection based on user authentication status.", "scope": "", "scopeKind": ""}, {"name": "fetchSession()", "scope": "ProtectedRoute", "scopeKind": "function", "description": "unavailable"}], "calls": ["React", "useEffect", "useState", "useLocation", "getSupabaseClient", "supabase.auth.getSession", "supabase.auth.onAuthStateChange", "window.setTimeout", "window.clearTimeout", "session?.user"], "search-terms": ["React ProtectedRoute", "Supabase auth guard", "authentication redirect", "auth state change"], "state": 2, "file_id": 19, "knowledge_revision": 66, "git_revision": "bf8f7296ddc798750738cb4f473f80d26d4950c9", "revision_history": [{"46": ""}, {"62": "d783d4065ffc517495cb4a12daf6055e631a8689"}, {"66": "bf8f7296ddc798750738cb4f473f80d26d4950c9"}], "ctags": [{"_type": "tag", "name": "/login?redirect=${redirectTo}", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class"}, {"_type": "tag", "name": "ProtectedRoute", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^export default function ProtectedRoute({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "fetchSession", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    async function fetchSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ProtectedRoute", "scopeKind": "function"}, {"_type": "tag", "name": "redirectTo", "path": "/home/kavia/workspace/code-generation/india-weather-tracker-7988-7997/india_weather_frontend/src/components/ProtectedRoute.js", "pattern": "/^    const redirectTo = encodeURIComponent(location.pathname + location.search);$/", "language": "JavaScript", "kind": "constant"}], "hash": "7da627593c2f2d86705de7717e32e8d5", "format-version": 4, "code-base-name": "india_weather_frontend", "filename": "india_weather_frontend/src/components/ProtectedRoute.js", "fields": [{"name": "return <Navigate to={`\\/login?redirect=${redirectTo}`} replace \\/>;", "scope": "AnonymousClass7e1907de0201", "scopeKind": "class", "description": "unavailable"}]}